<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:jsf="http://xmlns.jcp.org/jsf"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites">

    <composite:interface>
        <composite:attribute name="name" />
        <composite:attribute name="label" />
        <composite:attribute name="field" />
        <composite:attribute name="help" />
        <composite:attribute
            name="fieldStyle"
            default="form-select" />
        <composite:attribute name="style" />
        <composite:attribute
            name="displayLabel"
            default="true" />
        <composite:attribute
            name="readonly"
            default="false" />
        <composite:attribute
            name="required"
            default="false" />
        <composite:attribute
            name="displayAsRequired"
            default="false" />
        <composite:attribute
            name="classLeft"
            default="col-12 col-md-3" />
        <composite:attribute
            name="classRight"
            default="col-12 col-md-9" />
        <composite:attribute
            name="tabindex"
            default="0" />
        <composite:attribute
            name="execute"
            default="@this" />
        <composite:attribute
            name="render"
            default="" />
    </composite:interface>

    <composite:implementation>

        <style>
.rating-star {
    display: block;
    float: left;
}

.rating-star i {
    color: #ccc;
}

.rating-star .active {
    color: #368ee0;
}

.btn.rating-star {
    text-decoration: none;
    padding: 0;
    line-height: inherit;
    border: none;
    background: none;
}
</style>

        <!-- ROW -->
        <div
            class="row"
            style="#{cc.attrs.style}">

            <!-- LABEL -->
            <div
                class="#{cc.attrs.classLeft}"
                tabindex="-1">
                <intranda:formLabel
                    label="#{cc.attrs.label}"
                    labelFor="#{cc.attrs.name}"
                    labelRequired="#{cc.attrs.required or cc.attrs.displayAsRequired}"
                    rendered="#{cc.attrs.displayLabel}" />
                <composite:insertChildren />
            </div>
            <!-- // LABEL -->

            <!-- CONTENT -->
            <h:panelGroup
                layout="block"
                styleClass="#{cc.attrs.classRight}"
                id="#{cc.attrs.name}">

                <ul class="p-0">
                    <li class="rating-star">
                        <button
                            class="btn rating-star"
                            jsf:id="#{cc.attrs.name}-rating1"
                            title="#{cc.attrs.label}"
                            data-toggle="tooltip">
                            <f:ajax
                                execute="#{cc.attrs.execute}"
                                render="#{cc.attrs.render}" />
                            <f:setPropertyActionListener
                                value="1"
                                target="#{cc.attrs.field}" />
                            <i
                                class="fa fa-star #{cc.attrs.field > 0 ? 'active' : ''}"
                                aria-hidden="true"></i>
                        </button>
                    </li>
                    <li class="rating-star">
                        <button
                            class="btn rating-star"
                            jsf:id="#{cc.attrs.name}-rating2"
                            title="#{cc.attrs.label}"
                            data-toggle="tooltip">
                            <f:ajax
                                execute="#{cc.attrs.execute}"
                                render="#{cc.attrs.render}" />
                            <f:setPropertyActionListener
                                value="2"
                                target="#{cc.attrs.field}" />
                            <i
                                class="fa fa-star #{cc.attrs.field > 1 ? 'active' : ''}"
                                aria-hidden="true"></i>

                        </button>
                    </li>
                    <li class="rating-star">

                        <button
                            class="btn rating-star"
                            jsf:id="#{cc.attrs.name}-rating3"
                            title="#{cc.attrs.label}"
                            data-toggle="tooltip">
                            <f:ajax
                                execute="#{cc.attrs.execute}"
                                render="#{cc.attrs.render}" />
                            <f:setPropertyActionListener
                                value="3"
                                target="#{cc.attrs.field}" />
                            <i
                                class="fa fa-star #{cc.attrs.field > 2 ? 'active' : ''}"
                                aria-hidden="true"></i>
                        </button>
                    </li>
                    <li class="rating-star">

                        <button
                            class="btn rating-star"
                            jsf:id="#{cc.attrs.name}-rating4"
                            title="#{cc.attrs.label}"
                            data-toggle="tooltip">
                            <f:ajax
                                execute="#{cc.attrs.execute}"
                                render="#{cc.attrs.render}" />
                            <f:setPropertyActionListener
                                value="4"
                                target="#{cc.attrs.field}" />
                            <i
                                class="fa fa-star #{cc.attrs.field > 3 ? 'active' : ''}"
                                aria-hidden="true"></i>
                        </button>
                    </li>
                    <li class="rating-star">
                        <button
                            class="btn rating-star"
                            jsf:id="#{cc.attrs.name}-rating5"
                            title="#{cc.attrs.label}"
                            data-toggle="tooltip">
                            <f:ajax
                                execute="#{cc.attrs.execute}"
                                render="#{cc.attrs.render}" />
                            <f:setPropertyActionListener
                                value="5"
                                target="#{cc.attrs.field}" />
                            <i
                                class="fa fa-star #{cc.attrs.field == 5 ? 'active' : ''}"
                                aria-hidden="true"></i>
                        </button>
                    </li>
                </ul>
                <h:message
                    for="#{cc.attrs.name}"
                    showDetail="true"
                    styleClass="help-inline text-danger" />
                <!-- Help messages, inline + warning -->
                <intranda:formHelp
                    content="#{cc.attrs.help}"
                    msgFor="#{cc.attrs.name}" />

            </h:panelGroup>
            <!-- // CONTENT -->

        </div>
        <!-- // ROW -->

    </composite:implementation>

</ui:composition>