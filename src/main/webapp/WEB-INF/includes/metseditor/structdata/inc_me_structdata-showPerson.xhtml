<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:x="http://myfaces.apache.org/tomahawk"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/compositesPG"
    xmlns:p="http://primefaces.org/ui"
	xmlns:section="http://goobi.io/section">

    <composite:interface />

    <composite:implementation>
        <div id="meStructdataShowPersonBox" class="mb-3">
            <section:section type="outline">
                <section:header
                    icon="bars"
                    title="#{msgs.mets_personsOfCurrentDocStruct}"
                    >
                    <button
                        type="button"
                        aria-label="#{msgs.minimizeBox}"
                        class="btn"
                        data-bs-toggle="collapse"
                        data-bs-target="#personBoxBody"
                        aria-expanded="true"
                        aria-controls="personBoxBody">
                        <span
                            class="collapse-caret fa fa-angle-up"
                            aria-hidden="true" />
                        <span
                            class="extend-caret fa fa-angle-down"
                            aria-hidden="true" />
                    </button>
                </section:header>
                <div id="personBoxBody" class="collapse show">
                    <section:body>
                        <h:panelGroup id="structPersonEdit" layout="block">
                            <ui:fragment rendered="#{empty Metadaten.myPersonen}">
                                <p>
                                    #{msgs.mets_no_persons_assigned}
                                </p>
                            </ui:fragment>

                            <x:dataList var="Item" value="#{Metadaten.myPersonen}" rowCountVar="rowCount" rowIndexVar="rowIndex">
                                <intranda:formGroupPerson person="#{Item}" index="#{rowIndex}" />
                            </x:dataList>
                        </h:panelGroup>
                    </section:body>
                </div>
            </section:section>
        </div>
    </composite:implementation>
</ui:composition>
