<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:composite="http://xmlns.jcp.org/jsf/composite"
	xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core"
	 xmlns:jsf="http://xmlns.jcp.org/jsf">

	<composite:interface>
	</composite:interface>

	<composite:implementation>

		<button
			class="btn btn--plusMinus text-start"
			jsf:rendered="#{!item.panelAusgeklappt}"
			title="#{msgs.showBoxDetailsOn}"
			data-bs-toggle="tooltip"
			jsf:id="displayDetails"
			aria-haspopup="true"
			aria-expanded="false"
			data-goobi="handle-tooltip"
		>
			<span class="fa fa-angle-right" />
			<h:panelGroup rendered="#{item.typAutomatisch}">
				<i class="fa fa-cogs" title="#{msgs.automatischerSchritt}" />
			</h:panelGroup>
			<h:panelGroup rendered="#{not item.typAutomatisch}">
				<i class="fa fa-user-o" title="#{msgs.normalerSchritt}" />
			</h:panelGroup>
			<span>
				<h:outputText value="#{item.titelLokalisiert}" />
			</span>
			<f:setPropertyActionListener target="#{item.panelAusgeklappt}" value="true"/>
			<f:ajax
				render="#{ajaxRender}"
				onevent="(data) => {
					gwHandleTooltip.init(data, {restore: false});
					gwInitTooltips.init(document.querySelector('#tasks'));
					gwResizableTable.reload(data);
				}"
			/>
		</button>

		<button
			type="button"
			class="btn btn--plusMinus mb-2 text-start"
			jsf:rendered="#{item.panelAusgeklappt}"
			title="#{msgs.showBoxDetailsOff}"
			data-bs-toggle="tooltip"
			jsf:id="hideDetails"
			aria-haspopup="true"
			aria-expanded="true"
			data-goobi="handle-tooltip"
		>
			<span class="fa fa-angle-down" />

			<h:panelGroup rendered="#{item.typAutomatisch}">
        <i class="fa fa-cogs" title="#{msgs.automatischerSchritt}"/>
      </h:panelGroup>
			<h:panelGroup rendered="#{not item.typAutomatisch}">
				<i class="fa fa-user-o" title="#{msgs.normalerSchritt}"/>
			</h:panelGroup>
			<span>
				<h:outputText value="#{item.titel}" />
			</span>
			<f:setPropertyActionListener target="#{item.panelAusgeklappt}" value="false"/>
      <f:ajax
				render="#{ajaxRender}"
				onevent="(data) => {
					gwHandleTooltip.init(data, {restore: false});
					gwInitTooltips.init(document.querySelector('#tasks'));
					gwResizableTable.reload(data);
				}"
				/>
		</button>

	</composite:implementation>

</ui:composition>
