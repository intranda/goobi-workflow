<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:x="http://myfaces.apache.org/tomahawk"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/compositesPG"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:jsf="http://xmlns.jcp.org/jsf">
    <composite:interface>
    </composite:interface>
    <composite:implementation>
        <ui:include src="../calendarJavaScript.xhtml" />
        <x:dataList
            var="property"
            value="#{properties}">
            <!-- TEXT -->
            <h:panelGroup rendered="#{((property.type.name == 'text') or (property.type.name == 'link') or (property.type.name == 'null'))}">
                <div class="row">
                    <div class="col-12 col-md-3">
                        <intranda:formLabel
                            label="#{property.name}"
                            labelFor="value"
                            labelRequired="#{property.showProcessGroupAccessCondition == 'WRITEREQUIRED'}"/>
                    </div>
                    <div class="col-12 col-md-9">
                        <x:inputText
                            id="value"
                            styleClass="form-control"
                            value="#{property.value}"
                            readonly="#{property.showProcessGroupAccessCondition == 'READ'}"
                            binding="#{value}">
                            <f:ajax execute="@this" render="propertyBox" />
                        </x:inputText>
                        <intranda:formHelp msgFor="#{value.clientId}" content="#{msgs.helpPropertyValue}" />
                    </div>
                </div>
            </h:panelGroup>
            <!-- TEXTAREA -->
            <h:panelGroup rendered="#{(property.type.name == 'textarea')}">
                <div class="row">
                    <div class="col-12 col-md-3">
                        <intranda:formLabel
                            label="#{property.name}"
                            labelFor="textareaValue"
                            labelRequired="#{property.showProcessGroupAccessCondition == 'WRITEREQUIRED'}"/>
                    </div>
                    <div class="col-12 col-md-9">
                        <x:inputTextarea
                            id="textareaValue"
                            rows="7"
                            styleClass="form-control"
                            value="#{property.value}"
                            readonly="#{property.showProcessGroupAccessCondition == 'READ'}">
                            <f:ajax execute="@this" render="propertyBox" />
                        </x:inputTextarea>
                        <h:message
                            for="textareaValue"
                            showDetail="true"
                            styleClass="help-inline font-danger" />
                        <intranda:formHelp content="#{msgs.helpPropertyValue}" />
                    </div>
                </div>
            </h:panelGroup>
            <!-- NUMBER -->
            <h:panelGroup rendered="#{property.type.name == 'integer' or property.type.name == 'number'}">
                <div class="row">
                    <div class="col-12 col-md-3">
                        <intranda:formLabel
                            label="#{property.name}"
                            labelFor="number"
                            labelRequired="#{property.showProcessGroupAccessCondition == 'WRITEREQUIRED'}"/>
                    </div>
                    <div class="col-12 col-md-9">
                        <x:inputText
                            id="number"
                            forceId="true"
                            styleClass="form-control"
                            value="#{property.value}"
                            readonly="#{property.showProcessGroupAccessCondition == 'READ'}">
                            <f:validateLongRange minimum="0" />
                            <f:ajax execute="@this" render="propertyBox" />
                        </x:inputText>
                        <h:message
                            for="number"
                            showDetail="true"
                            styleClass="help-inline font-danger" />
                        <intranda:formHelp content="#{msgs.helpPropertyValue}" />
                    </div>
                </div>
            </h:panelGroup>
            <!--  SELECT ONE -->
            <h:panelGroup rendered="#{(property.type.name == 'list')}">
                <div class="row">
                    <div class="col-12 col-md-3">
                        <intranda:formLabel
                            label="#{property.name}"
                            labelFor="select"
                            labelRequired="#{property.showProcessGroupAccessCondition == 'WRITEREQUIRED'}"/>
                    </div>
                    <div class="col-12 col-md-9">
                        <h:selectOneMenu
                            id="select"
                            styleClass="form-control form-select"
                            disabled="#{property.showProcessGroupAccessCondition == 'READ'}"
                            value="#{property.value}"
                            binding="#{select}">
                            <f:selectItems
                                value="#{property.possibleValues}"
                                var="propertys"
                                itemLabel="#{propertys}"
                                itemValue="#{propertys}" />
                                <f:ajax execute="@this" render="propertyBox" />
                        </h:selectOneMenu>
                        <intranda:formHelp msgFor="#{select.clientId}" content="#{msgs.helpPropertyValue}" />
                    </div>
                </div>
            </h:panelGroup>
            <!--  SELECT MANY -->
            <h:panelGroup rendered="#{(property.type.name == 'listmultiselect')}">
                <div class="row">
                    <div class="col-12 col-md-3">
                        <intranda:formLabel
                            label="#{property.name}"
                            labelFor="selectmany"
                            labelRequired="#{property.showProcessGroupAccessCondition == 'WRITEREQUIRED'}"/>
                    </div>
                    <div class="col-12 col-md-9">
                        <h:selectManyListbox
                            id="selectmany"
                            value="#{property.valueList}"
                            size="5"
                            styleClass="form-control"
                            disabled="#{property.showProcessGroupAccessCondition == 'READ'}">
                            <f:selectItems
                                value="#{property.possibleValues}"
                                var="propertys"
                                itemLabel="#{propertys}"
                                itemValue="#{propertys}" />
                                <f:ajax execute="@this" render="propertyBox" />
                        </h:selectManyListbox>
                        <h:message
                            for="selectmany"
                            showDetail="true"
                            styleClass="help-inline font-danger" />
                        <intranda:formHelp content="#{msgs.helpPropertyValue}" />
                    </div>
                </div>
            </h:panelGroup>
            <!-- BOOLEAN  -->
            <h:panelGroup rendered="#{(property.type.name == 'boolean')}">
                <div class="row">
                    <div class="col-12 col-md-3">
                        <intranda:formLabel
                            label="#{property.name}"
                            labelFor="boolean"
                            labelRequired="#{property.showProcessGroupAccessCondition == 'WRITEREQUIRED'}"/>
                    </div>
                    <div class="col-12 col-md-9">
                        <h:selectBooleanCheckbox
                            id="boolean"
                            value="#{property.booleanValue}"
                            disabled="#{property.showProcessGroupAccessCondition == 'READ'}">
                            <f:ajax execute="@this" render="propertyBox" />
                        </h:selectBooleanCheckbox>
                        <h:message
                            for="boolean"
                            showDetail="true"
                            styleClass="help-inline font-danger" />
                        <intranda:formHelp content="#{msgs.helpPropertyValue}" />
                    </div>
                </div>
            </h:panelGroup>
            <!--  DATE   -->
            <h:panelGroup rendered="#{(property.type.name == 'date')}">
                <div class="row">
                    <div class="col-12 col-md-3">
                        <intranda:formLabel
                            label="#{property.name}"
                            labelFor="date"
                            labelRequired="#{property.showProcessGroupAccessCondition == 'WRITEREQUIRED'}"/>
                    </div>
                    <div class="col-12 col-md-9">
                        <p:calendar
                            id="date"
                            value="#{property.dateValue}"
                            locale="#{SpracheForm.locale}"
                            styleClass="ff-goobi"
                            mask="true"
                            navigator="true"
                            yearRange="-100:+100"
                            pattern="#{property.pattern}">
                            <f:passThroughAttribute name="autocomplete" value="off" />
                            <f:ajax execute="@this" render="propertyBox" />
                        </p:calendar>
                        <h:message
                            for="date"
                            showDetail="true"
                            styleClass="help-inline font-danger" />
                        <intranda:formHelp content="#{msgs.helpPropertyValue}" />
                    </div>
                </div>
            </h:panelGroup>
            <!--  HTML   -->
            <h:panelGroup rendered="#{(property.type.name == 'html')}">
                <div class="row">
                    <div class="col-12 col-md-3">
                        <intranda:formLabel
                            label="#{property.name}"
                            labelFor="valuearea"
                            labelRequired="#{property.showProcessGroupAccessCondition == 'WRITEREQUIRED'}"/>
                    </div>
                    <div class="col-12 col-md-9">
                        <x:inputTextarea
                            id="valueArea"
                            forceId="true"
                            styleClass="form-control"
                            value="#{property.value}"
                            readonly="#{property.showProcessGroupAccessCondition == 'READ'}">
                            <f:ajax execute="@this" render="propertyBox" />
                        </x:inputTextarea>
                        <h:message
                            for="valueArea"
                            showDetail="true"
                            styleClass="help-inline font-danger" />
                        <intranda:formHelp content="#{msgs.helpPropertyValue}" />
                    </div>
                </div>
            </h:panelGroup>
        </x:dataList>
    </composite:implementation>
</ui:composition>
