<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"

	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites">

	<composite:interface>
	</composite:interface>

	<composite:implementation>

		<h:panelGroup
			rendered="#{ProzessverwaltungForm.modusAnzeige!='vorlagen' and ProzessverwaltungForm.myAnzahlList != null}">

			<div class="row mt-4">
				<div class="col-sm-4">

					<intranda:box id="imageCountSummary" boxType="neutral" boxPadding="false"
						icon="fa-calculator" title="#{msgs.zusammenfassung}">

						<div class="gw-table gw-table-fixed">

							<!-- TABLE WRAPPER -->
							<div class="gw-table__wrapper">

								<!-- TABLE -->
								<table role="grid"
									class="table table-bordered table-fixed table-hover">
									<tbody>
										<tr>
											<td>#{msgs.baendeGesamt}:</td>
											<td>#{ProzessverwaltungForm.myAnzahlSummary.sumProcesses}</td>
										</tr>
										<tr>
											<td>#{msgs.imagesGesamt}:</td>
											<td>#{ProzessverwaltungForm.myAnzahlSummary.sumImages}</td>
										</tr>
										<tr>
											<td>#{msgs.imagesDurchschnitt}:</td>
											<td>#{ProzessverwaltungForm.myAnzahlSummary.averageImages}</td>
										</tr>
										<tr>
											<td>#{msgs.docstructsGesamt}:</td>
											<td>#{ProzessverwaltungForm.myAnzahlSummary.sumDocstructs}</td>
										</tr>
										<tr>
											<td>#{msgs.docstructsDurchschnitt}:</td>
											<td>#{ProzessverwaltungForm.myAnzahlSummary.averageDocstructs}</td>
										</tr>
										<tr>
											<td>#{msgs.metadataGesamt}:</td>
											<td>#{ProzessverwaltungForm.myAnzahlSummary.sumMetadata}</td>
										</tr>
										<tr>
											<td>#{msgs.metadataDurchschnitt}:</td>
											<td>#{ProzessverwaltungForm.myAnzahlSummary.averageMetadata}</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>

					</intranda:box>

				</div>
			</div>
			<div class="row mt-4">
				<div class="col-sm-12">


					<intranda:box id="imageCount" boxType="neutral" boxPadding="false"
						icon="fa-table" title="#{msgs.anzahlDerArtikelUndImages}">

						<div class="gw-table gw-table-fixed">

							<!-- TABLE WRAPPER -->
							<div class="gw-table__wrapper">

								<!-- TABLE -->
								<h:dataTable styleClass="table table-bordered table-fixed table-hover"
									var="item" value="#{ProzessverwaltungForm.myAnzahlList}">

									<!-- Title -->
									<h:column styleClass="tableColumnMaxWidthLong">
										<f:facet name="header">
											<h:outputText value="#{msgs.titel}" />
										</f:facet>
										<span title="#{item.title}" data-toggle="tooltip">#{item.title}</span>
									</h:column>

									<!-- Images -->
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{msgs.images}" />
										</f:facet>
										<h:outputText value="#{item.images}" />
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{msgs.relativeAnzahl}" />
										</f:facet>
										<div class="progress margin-bottom-no">
											<div class="progress-bar progress-bar-success"
												style="width:#{item.relImages * 1}%"
												title="#{item.images} #{msgs.images}" data-toggle="tooltip"
												aria-label="#{item.relImages * 1}% #{item.images} #{msgs.images}"></div>
										</div>
									</h:column>

									<!-- Docstructs -->
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{msgs.docstructs}" />
										</f:facet>
										<h:outputText value="#{item.docstructs}" />
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{msgs.relativeAnzahl}" />
										</f:facet>
										<div class="progress margin-bottom-no">
											<div class="progress-bar progress-bar-warning"
												style="width:#{item.relDocstructs * 1}%"
												title="#{item.docstructs} #{msgs.docstructs}"
												data-toggle="tooltip"
												aria-label="#{item.relDocstructs * 1}% #{item.docstructs} #{msgs.docstructs}"></div>
										</div>
									</h:column>

									<!-- Metadata -->
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{msgs.metadata}" />
										</f:facet>
										<h:outputText value="#{item.metadata}" />
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{msgs.relativeAnzahl}" />
										</f:facet>
										<div class="progress margin-bottom-no">
											<div class="progress-bar progress-bar-danger"
												style="width: #{item.relMetadata * 1}%"
												title="#{item.relMetadata} #{msgs.metadata}"
												data-toggle="tooltip"
												aria-label="#{item.relMetadata * 1}% #{item.relMetadata} #{msgs.metadata}"></div>
										</div>
									</h:column>

								</h:dataTable>

							</div>
						</div>

					</intranda:box>

				</div>
			</div>

		</h:panelGroup>

	</composite:implementation>

</ui:composition>
