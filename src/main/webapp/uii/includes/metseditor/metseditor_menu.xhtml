<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:x="http://xmlns.jcp.org/jsf/html">

    <composite:interface />

    <composite:implementation>
        <!-- TODO: mobile menu -->
        <h:form id="metseditorMenuForm">
            <!-- TODO: was machen diese hidden input Felder? -->
            <!-- <h:inputHidden id="scrollPosition" value="#{NavigationForm.uiStatus.mets_scrollPosition}" />
            <h:inputHidden id="scrollPositionStructData"
                value="#{NavigationForm.uiStatus.mets_scrollPositionStructData}" />
            <h:inputHidden id="scrollToThumb" value="#{NavigationForm.uiStatus.mets_scrollToThumb}" /> -->

            <ul class="clean">
                <ui:fragment rendered="#{LoginForm.hasRole('Task_Mets_Pagination')}">
                    <li class="#{Metadaten.modusAnsicht == 'Paginierung' ? 'active' : ''}">
                        <h:commandLink styleClass="focusable" action="#{Metadaten.AnsichtAendern}" id="gotoPagination">
                            #{msgs.paginierung}
                            <x:updateActionListener value="Paginierung" property="#{Metadaten.modusAnsicht}" />
                            <f:ajax
                                onevent="function(data){ goobiWorkflowJS.meScrollPos.init(data, {view: 'Paginierung'})}"
                                render="@form :pageContentCenter" />
                        </h:commandLink>
                    </li>
                </ui:fragment>

                <ui:fragment rendered="#{LoginForm.hasRole('Task_Mets_Structure')}">
                    <li class="#{Metadaten.modusAnsicht == 'Strukturdaten' ? 'active' : ''}">
                        <h:commandLink styleClass="focusable" action="#{Metadaten.AnsichtAendern}" id="gotoStructure">
                            #{msgs.strukturdaten}
                            <x:updateActionListener value="Strukturdaten" property="#{Metadaten.modusAnsicht}" />
                            <f:ajax
                                onevent="function(data){ goobiWorkflowJS.meScrollPos.init(data, {view: 'Strukturdaten'})}"
                                render="@form :pageContentCenter" />
                        </h:commandLink>
                    </li>
                </ui:fragment>

                <ui:fragment rendered="#{LoginForm.hasRole('Task_Mets_Metadata')}">
                    <li class="#{Metadaten.modusAnsicht == 'Metadaten' ? 'active' : ''}">
                        <h:commandLink styleClass="focusable" action="#{Metadaten.AnsichtAendern}" id="gotoMetadata">
                            #{msgs.metadaten}
                            <x:updateActionListener value="Metadaten" property="#{Metadaten.modusAnsicht}" />
                            <f:ajax
                                onevent="function(data){ goobiWorkflowJS.meScrollPos.init(data, {view: 'Metadaten'})}"
                                render="@form :pageContentCenter" />
                        </h:commandLink>
                    </li>
                </ui:fragment>

                <ui:fragment rendered="#{LoginForm.hasRole('Task_Mets_Files')}">
                    <li class="#{Metadaten.modusAnsicht == 'File' ? 'active' : ''}">
                        <h:commandLink styleClass="focusable" action="#{Metadaten.AnsichtAendern}" id="gotoFile">
                            #{msgs.fileManipulation}
                            <x:updateActionListener value="File" property="#{Metadaten.modusAnsicht}" />
                             <f:ajax
                                 onevent="function(data){ goobiWorkflowJS.meScrollPos.init(data, {view: 'File'})}"
                                render="@form :pageContentCenter" />
                        </h:commandLink>
                    </li>
                </ui:fragment>
            </ul>
        </h:form>
    </composite:implementation>
</ui:composition>
