<ui:composition
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  template="/uii/template/template.html"
  xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites"
  >

    <ui:param name="myPageTitle" value="#{DashboardForm.plugin==null?msgs.startseite:msgs.dashboard}" />
    <ui:define name="css">
      <link rel="stylesheet" href="template/css/lib/swagger-ui.css?v=#{HelperForm.buildVersion}"/>
    </ui:define>
    <ui:define name="breadcrumb">
        <intranda:breadcrumb id="index" label="#{DashboardForm.plugin==null?msgs.startseite:msgs.dashboard}" action="index" navId="a0" noSeparator="#{true}" />
    </ui:define>

    <ui:define name="info">
    </ui:define>

    <ui:define name="content">

    <script type="text/javascript" src="template/js/static/swagger/swagger-ui-bundle.js?v=#{HelperForm.buildVersion}"/>

  		<div id="swagger-container"></div>

        <script>
	        fetch("#{request.contextPath}/api/swagger/openapi.json")
	        .then(res => res.json())
	        .then(json => {
	            SwaggerUIBundle({
	        	    dom_id: '#swagger-container',
	        	    spec: json,
	        	  });
	        })
        </script>

    </ui:define>
</ui:composition>
