<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:o="http://omnifaces.org/ui" xmlns:of="http://omnifaces.org/functions"
	template="/uii/templatePG/templatePG.html"
	xmlns:x="http://xmlns.jcp.org/jsf/html"
	xmlns:intranda="http://xmlns.jcp.org/jsf/composite/compositesPG">

	<ui:param name="myPageTitle"
		value="#{RegelsaetzeForm.myRegelsatz.id == null?msgs.neuenRegelsatzAnlegen:msgs.regelsatzBearbeiten}" />

	<ui:define name="breadcrumb">
		<intranda:breadcrumb id="index" label="#{DashboardForm.plugin==null?msgs.startseite:msgs.dashboard}" action="index"
			navId="a0" />
		<intranda:breadcrumb id="rulesetAll" label="#{msgs.regelsaetze}"
			action="#{RegelsaetzeForm.paginator.returnToPreviousPage}" />
		<intranda:breadcrumb id="rulesetEdit" label="#{myPageTitle}" action="ruleset_edit"
			noSeparator="#{true}" />
	</ui:define>

	<ui:define name="info">
	</ui:define>

	<ui:define name="content">

		<h:form id="myform" 
			onkeypress="submitOnEnter(event);"
			rendered="#{LoginForm.hasRole('Admin_Rulesets')}">

			<div class="row" role="main">
				<div class="col-sm-12">

					<intranda:box
						boxType="action"
						boxForm="true"
						boxPadding="false"
						title="#{myPageTitle}"
						icon="fa-wrench"
					>


							<intranda:formInputText
								id="title"
								name="titel"
								label="#{msgs.rulesetTitle}"
								field="#{RegelsaetzeForm.myRegelsatz.titel}"
								help="#{msgs.helpRulesetTitle}" />

							<intranda:formInputDropDown
								id="file_dropdown"
								name="filename"
								label="#{msgs.rulesetFile}"
								field="#{RegelsaetzeForm.myRegelsatz.datei}"
								help="#{msgs.helpRulesetFile}"
								selectItems="#{RegelsaetzeForm.availableRulesetFiles}"
								required="true" />

							<intranda:formInputCheckBox
								id="order"
								name="check"
								label="#{msgs.rulesetOrderByFile}"
								field="#{RegelsaetzeForm.myRegelsatz.orderMetadataByRuleset}"
								help="#{msgs.helpRulesetOrderByFile}" />

							<intranda:formButtonArea
								id="buttons"
								form="#{RegelsaetzeForm}"
								object="#{RegelsaetzeForm.myRegelsatz.id}"
								actionCancel="#{RegelsaetzeForm.Cancel}" />

					</intranda:box>

						</div>
			</div>

		</h:form>
	</ui:define>

</ui:composition>
